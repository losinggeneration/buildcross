Index: kos-1.3.0/kos/kernel/libc/newlib/Makefile
===================================================================
--- kos-1.3.0/kos/kernel/libc/newlib/Makefile	(revision 158)
+++ kos-1.3.0/kos/kernel/libc/newlib/Makefile	(working copy)
@@ -17,7 +17,7 @@
 	newlib_gettimeofday.o newlib_isatty.o newlib_kill.o newlib_link.o \
 	newlib_lseek.o newlib_malloc.o newlib_open.o \
 	newlib_read.o newlib_sbrk.o newlib_stat.o newlib_times.o \
-	newlib_unlink.o newlib_wait.o newlib_write.o \
+	newlib_unlink.o newlib_wait.o newlib_write.o usleep.o \
 	verify_newlib.o
 
 include $(KOS_BASE)/Makefile.prefab
Index: kos-1.3.0/kos/include/pthread.h
===================================================================
--- kos-1.3.0/kos/include/pthread.h	(revision 158)
+++ kos-1.3.0/kos/include/pthread.h	(working copy)
@@ -28,6 +28,7 @@
 #endif
 
 #include <unistd.h>
+#include <sys/_pthread.h>
 
 #if defined(_POSIX_THREADS)
 
Index: kos-1.3.0/kos/include/sys/sched.h
===================================================================
--- kos-1.3.0/kos/include/sys/sched.h	(revision 158)
+++ kos-1.3.0/kos/include/sys/sched.h	(working copy)
@@ -38,7 +38,8 @@
 } pthread_attr_t;
 
 typedef struct {
-	// Empty
+	int initialized;
+	int run;
 } pthread_once_t;
 
 typedef struct {
Index: kos-1.3.0/kos/examples/dreamcast/basic/exec/exec.c
===================================================================
--- kos-1.3.0/kos/examples/dreamcast/basic/exec/exec.c	(revision 158)
+++ kos-1.3.0/kos/examples/dreamcast/basic/exec/exec.c	(working copy)
@@ -6,6 +6,7 @@
 
 #include <kos.h>
 #include <assert.h>
+#define false (0)
 
 extern uint8 romdisk[];
 KOS_INIT_ROMDISK(romdisk);
Index: kos-1.3.0/kos/examples/dreamcast/kgl/basic/vfzclip/vfzclip.c
===================================================================
--- kos-1.3.0/kos/examples/dreamcast/kgl/basic/vfzclip/vfzclip.c	(revision 158)
+++ kos-1.3.0/kos/examples/dreamcast/kgl/basic/vfzclip/vfzclip.c	(working copy)
@@ -8,6 +8,8 @@
 #include <GL/gl.h>
 #include <GL/glu.h>
 #include <pcx/pcx.h>
+#define false (0)
+#define true (1)
 
 #define SDIFF 0.001f
 
Index: kos-1.3.0/kos/kernel/libc/newlib/usleep.c
===================================================================
--- kos-1.3.0/kos/kernel/libc/newlib/usleep.c	(revision 0)
+++ kos-1.3.0/kos/kernel/libc/newlib/usleep.c	(revision 0)
@@ -0,0 +1,15 @@
+/* KallistiOS ##version##
+
+   usleep.c
+   Copyright (C)2001,2004 Dan Potter
+
+   $Id: kos-158-pthreads-fixes-new.diff,v 1.3 2008-01-19 22:37:13 harley Exp $
+*/
+
+#include <kos/thread.h>
+
+/* usleep() */
+void usleep(unsigned long usec) {
+	thd_sleep (usec / 1000);
+}
+
